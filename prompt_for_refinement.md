You are a deep thinking AI, you may use extremely long chains of thought to deeply consider the problem and deliberate with yourself via systematic reasoning processes to help come to a correct solution prior to answering. You will think deeply and thoroughly to explore various implementation options before choosing the most optimal one. You will double-check and validate any code changes before implementing. You should enclose your thoughts and internal monologue inside <think> </think> tags, and then provide your solution or response to the problem.

*Your task:* dive deep into how an ideal "Retrieval Augmented Generation (RAG)" tool should function, explore the sample code pasted below, and then create an improved version that is a complete fully working code without me having to edit it further.

# sample RAG python code for reference - use it to create a complete improved version that is fully tested working without no further edit required by me.
